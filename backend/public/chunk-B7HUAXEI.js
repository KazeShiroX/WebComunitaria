import{a as S,b as w,c as L,d as y,e as E,f as N,j as k,k as D}from"./chunk-BRUDCGLU.js";import{c as P,g as O}from"./chunk-KZ6GKQZO.js";import{$a as s,Ea as x,Na as f,Oa as M,S as b,Sa as c,Ta as e,Ua as t,X as h,Y as C,Za as v,bb as p,da as l,ib as i,jb as _,kb as u,ra as o}from"./chunk-WVB2344H.js";function I(d,r){if(d&1&&(e(0,"div",3),i(1),t()),d&2){let a=p();o(),u(" ",a.error()," ")}}function z(d,r){if(d&1){let a=v();e(0,"div",5)(1,"label",14),i(2,"Nombre completo"),t(),e(3,"input",15),s("ngModelChange",function(g){h(a);let m=p();return C(m.nombre.set(g))}),t()()}if(d&2){let a=p();o(3),c("ngModel",a.nombre())}}var F=class d{authService=b(O);router=b(P);isLoginMode=l(!0);email=l("");password=l("");nombre=l("");error=l("");loading=l(!1);toggleMode(){this.isLoginMode.update(r=>!r),this.error.set("")}onSubmit(){this.error.set(""),this.loading.set(!0),this.isLoginMode()?this.authService.login({email:this.email(),password:this.password()}).subscribe({next:r=>{r.success?this.router.navigate(["/"]):this.error.set(r.message),this.loading.set(!1)},error:()=>{this.error.set("Error de conexi\xF3n"),this.loading.set(!1)}}):this.authService.register({nombre:this.nombre(),email:this.email(),password:this.password()}).subscribe({next:r=>{r.success?this.router.navigate(["/admin"]):this.error.set(r.message),this.loading.set(!1)},error:()=>{this.error.set("Error de conexi\xF3n"),this.loading.set(!1)}})}static \u0275fac=function(a){return new(a||d)};static \u0275cmp=x({type:d,selectors:[["app-login"]],decls:33,vars:10,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"error-message"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","tu@email.com","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel"],["type","submit",1,"submit-btn",3,"disabled"],[1,"login-footer"],["type","button",1,"toggle-btn",3,"click"],[1,"demo-credentials"],["for","nombre"],["type","text","id","nombre","name","nombre","placeholder","Tu nombre","required","",3,"ngModelChange","ngModel"]],template:function(a,n){a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),i(4),t(),e(5,"p"),i(6),t()(),f(7,I,2,1,"div",3),e(8,"form",4),s("ngSubmit",function(){return n.onSubmit()}),f(9,z,4,1,"div",5),e(10,"div",5)(11,"label",6),i(12,"Correo electr\xF3nico"),t(),e(13,"input",7),s("ngModelChange",function(m){return n.email.set(m)}),t()(),e(14,"div",5)(15,"label",8),i(16,"Contrase\xF1a"),t(),e(17,"input",9),s("ngModelChange",function(m){return n.password.set(m)}),t()(),e(18,"button",10),i(19),t()(),e(20,"div",11)(21,"p"),i(22),e(23,"button",12),s("click",function(){return n.toggleMode()}),i(24),t()()(),e(25,"div",13)(26,"p")(27,"strong"),i(28,"Credenciales de prueba:"),t()(),e(29,"p"),i(30,"Email: admin@rios.com"),t(),e(31,"p"),i(32,"Contrase\xF1a: admin123"),t()()()()),a&2&&(o(4),_(n.isLoginMode()?"Iniciar Sesi\xF3n":"Registrarse"),o(2),_(n.isLoginMode()?"Accede a tu cuenta de administrador":"Crea una cuenta de administrador"),o(),M(n.error()?7:-1),o(2),M(n.isLoginMode()?-1:9),o(4),c("ngModel",n.email()),o(4),c("ngModel",n.password()),o(),c("disabled",n.loading()),o(),u(" ",n.loading()?"Cargando...":n.isLoginMode()?"Iniciar Sesi\xF3n":"Registrarse"," "),o(3),u(" ",n.isLoginMode()?"\xBFNo tienes cuenta?":"\xBFYa tienes cuenta?"," "),o(2),u(" ",n.isLoginMode()?"Reg\xEDstrate":"Inicia sesi\xF3n"," "))},dependencies:[D,N,S,w,L,k,E,y],styles:[".login-container[_ngcontent-%COMP%]{min-height:calc(100vh - 64px);display:flex;align-items:center;justify-content:center;padding:2rem;background:#f9fafb}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 12px #0000001a;padding:2rem;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1a1a1a;margin-bottom:.5rem}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.error-message[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626;padding:.75rem 1rem;border-radius:8px;margin-bottom:1rem;font-size:.9rem}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #e5e7eb;border-radius:8px;font-size:1rem;transition:border-color .2s,box-shadow .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.submit-btn[_ngcontent-%COMP%]{background:#2563eb;color:#fff;padding:.875rem 1rem;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:background-color .2s;margin-top:.5rem}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#1d4ed8}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-footer[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid #e5e7eb}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.toggle-btn[_ngcontent-%COMP%]{background:none;border:none;color:#2563eb;font-weight:600;cursor:pointer;font-size:.9rem}.toggle-btn[_ngcontent-%COMP%]:hover{text-decoration:underline}.demo-credentials[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#f3f4f6;border-radius:8px;font-size:.8rem;color:#666}.demo-credentials[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}.demo-credentials[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}"]})};export{F as Login};
