import{a as D}from"./chunk-KNQK35B2.js";import{Db as N,Ea as O,Na as h,Oa as b,Pa as w,Qa as v,Ra as E,S as k,Wa as n,X as m,Xa as r,Y as g,Ya as M,Za as _,_a as f,ab as l,bb as s,da as p,gb as y,hb as S,ib as d,jb as C,kb as u,nb as T,ob as A,pa as P,ra as c}from"./chunk-WVB2344H.js";var H=(o,e)=>e.id;function V(o,e){if(o&1){let t=_();n(0,"button",12),l("click",function(){let a=m(t).$implicit,x=s();return g(x.filtrarPorCategoria(a))}),d(1),r()}if(o&2){let t=e.$implicit,i=s();S("active",i.categoriaActiva()===t),c(),u(" ",t," ")}}function I(o,e){if(o&1){let t=_();n(0,"article",13),l("click",function(){let a=m(t).$implicit,x=s();return g(x.verNoticia(a))}),M(1,"img",14),n(2,"div",15)(3,"span",16),d(4),r(),n(5,"h3",17),d(6),r(),n(7,"p",18),d(8),r()()()}if(o&2){let t=e.$implicit,i=s();c(),f("src",t.imagen,P)("alt",t.titulo),c(2),y("color",i.getCategoriaColor(t.categoria)),c(),u(" ",t.categoria," "),c(2),C(t.titulo),c(2),C(t.descripcion)}}function F(o,e){o&1&&(n(0,"span",20),d(1,"..."),r())}function j(o,e){if(o&1){let t=_();n(0,"button",22),l("click",function(){m(t);let a=s().$implicit,x=s(2);return g(x.irAPagina(+a))}),d(1),r()}if(o&2){let t=s().$implicit,i=s(2);S("active",i.paginaActual()===t),c(),u(" ",t," ")}}function L(o,e){if(o&1&&h(0,F,2,0,"span",20)(1,j,2,3,"button",21),o&2){let t=e.$implicit;b(t==="..."?0:1)}}function B(o,e){if(o&1){let t=_();n(0,"section",10)(1,"button",19),l("click",function(){m(t);let a=s();return g(a.irAPagina(a.paginaActual()-1))}),d(2," \u2039 "),r(),v(3,L,2,1,null,null,w),n(5,"button",19),l("click",function(){m(t);let a=s();return g(a.irAPagina(a.paginaActual()+1))}),d(6," \u203A "),r()()}if(o&2){let t=s();c(),f("disabled",t.paginaActual()===1),c(2),E(t.getPaginas()),c(2),f("disabled",t.paginaActual()===t.noticiasPaginadas().totalPaginas)}}function $(o,e){if(o&1&&(n(0,"div",38),d(1),r()),o&2){let t=s(2);c(),u(" ",t.noticiaSeleccionada().contenido," ")}}function q(o,e){if(o&1){let t=_();n(0,"div",23),l("click",function(){m(t);let a=s();return g(a.cerrarModal())}),n(1,"div",24),l("click",function(a){return m(t),g(a.stopPropagation())}),n(2,"div",25),M(3,"img",26),n(4,"button",27),l("click",function(){m(t);let a=s();return g(a.cerrarModal())}),d(5," \u2715 "),r(),n(6,"div",28)(7,"span",29),d(8),r()()(),n(9,"div",30)(10,"h1",31),d(11),r(),n(12,"div",32)(13,"div",33)(14,"span",34),d(15,"\u{1F4C5}"),r(),n(16,"span",35),d(17),T(18,"date"),r()(),n(19,"div",33)(20,"span",34),d(21,"\u270D\uFE0F"),r(),n(22,"span",35),d(23),r()()(),n(24,"div",36)(25,"p",37),d(26),r()(),h(27,$,2,1,"div",38),r()()()}if(o&2){let t=s();c(3),f("src",t.noticiaSeleccionada().imagen,P)("alt",t.noticiaSeleccionada().titulo),c(4),y("background-color",t.getCategoriaColor(t.noticiaSeleccionada().categoria)),c(),u(" ",t.noticiaSeleccionada().categoria," "),c(3),u(" ",t.noticiaSeleccionada().titulo," "),c(6),C(A(18,10,t.noticiaSeleccionada().fecha,"dd/MM/yyyy")),c(6),C(t.noticiaSeleccionada().autor),c(3),u(" ",t.noticiaSeleccionada().descripcion," "),c(),b(t.noticiaSeleccionada().contenido?27:-1)}}var z=class o{noticiasService=k(D);categorias=this.noticiasService.getCategorias();categoriaActiva=p("Todos");paginaActual=p(1);terminoBusqueda=p("");itemsPorPagina=4;noticiasPaginadas=p({items:[],totalItems:0,totalPaginas:1,paginaActual:1,itemsPorPagina:this.itemsPorPagina});loading=p(!1);showModal=p(!1);noticiaSeleccionada=p(null);ngOnInit(){this.cargarNoticias()}cargarNoticias(){this.loading.set(!0),this.noticiasService.getNoticiasPaginadas(this.paginaActual(),this.itemsPorPagina,this.categoriaActiva(),this.terminoBusqueda()).subscribe({next:e=>{this.noticiasPaginadas.set(e),this.loading.set(!1)},error:()=>{this.loading.set(!1)}})}filtrarPorCategoria(e){this.categoriaActiva.set(e),this.paginaActual.set(1),this.cargarNoticias()}irAPagina(e){e>=1&&e<=this.noticiasPaginadas().totalPaginas&&(this.paginaActual.set(e),this.cargarNoticias())}searchTimeout;buscar(e){let t=e.target;this.terminoBusqueda.set(t.value),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.paginaActual.set(1),this.cargarNoticias()},500)}getPaginas(){let e=this.noticiasPaginadas().totalPaginas,t=this.paginaActual(),i=[];if(e<=7)for(let a=1;a<=e;a++)i.push(a);else{i.push(1),t>3&&i.push("...");for(let a=Math.max(2,t-1);a<=Math.min(e-1,t+1);a++)i.push(a);t<e-2&&i.push("..."),i.push(e)}return i}getCategoriaColor(e){return{"Noticias Locales":"#2563eb",Deportes:"#dc2626",Cultura:"#7c3aed",Comunidad:"#059669"}[e]||"#666"}verNoticia(e){this.noticiaSeleccionada.set(e),this.showModal.set(!0)}cerrarModal(){this.showModal.set(!1),this.noticiaSeleccionada.set(null)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=O({type:o,selectors:[["app-home"]],decls:19,vars:3,consts:[[1,"home-container"],[1,"hero"],[1,"search-section"],[1,"search-box"],[1,"search-icon"],["type","text","placeholder","Buscar noticias...",3,"input","value"],[1,"categorias"],[1,"categoria-btn",3,"active"],[1,"noticias-grid"],[1,"noticia-card",2,"cursor","pointer"],[1,"paginacion"],[2,"position","fixed","top","0","left","0","right","0","bottom","0","background","rgba(0,0,0,0.8)","z-index","9999","display","flex","align-items","center","justify-content","center","padding","20px","overflow-y","auto"],[1,"categoria-btn",3,"click"],[1,"noticia-card",2,"cursor","pointer",3,"click"],[1,"noticia-imagen",3,"src","alt"],[1,"noticia-content"],[1,"noticia-categoria"],[1,"noticia-titulo"],[1,"noticia-descripcion"],[1,"pag-btn",3,"click","disabled"],[1,"pag-ellipsis"],[1,"pag-btn",3,"active"],[1,"pag-btn",3,"click"],[2,"position","fixed","top","0","left","0","right","0","bottom","0","background","rgba(0,0,0,0.8)","z-index","9999","display","flex","align-items","center","justify-content","center","padding","20px","overflow-y","auto",3,"click"],[2,"background","white","border-radius","20px","width","100%","max-width","900px","max-height","90vh","overflow-y","auto","position","relative",3,"click"],[2,"position","relative","width","100%","height","400px","overflow","hidden","border-radius","20px 20px 0 0"],[2,"width","100%","height","100%","object-fit","cover",3,"src","alt"],["type","button",2,"position","absolute","top","20px","right","20px","background","rgba(255,255,255,0.95)","border","none","width","45px","height","45px","border-radius","50%","font-size","24px","cursor","pointer","box-shadow","0 4px 12px rgba(0,0,0,0.3)","font-weight","bold","color","#333","display","flex","align-items","center","justify-content","center",3,"click"],[2,"position","absolute","bottom","20px","left","30px"],[2,"padding","10px 20px","border-radius","25px","color","white","font-weight","bold","font-size","14px","box-shadow","0 4px 12px rgba(0,0,0,0.2)"],[2,"padding","40px"],[2,"font-size","36px","font-weight","800","color","#1a1a1a","margin","0 0 20px 0","line-height","1.2"],[2,"display","flex","align-items","center","gap","20px","margin-bottom","30px","padding-bottom","20px","border-bottom","2px solid #f0f0f0"],[2,"display","flex","align-items","center","gap","8px","color","#666"],[2,"font-size","20px"],[2,"font-size","14px","font-weight","500"],[2,"background","#f8f9fa","padding","20px","border-left","4px solid #2563eb","border-radius","8px","margin-bottom","30px"],[2,"font-size","18px","font-weight","500","color","#374151","margin","0","line-height","1.6"],[2,"font-size","17px","line-height","1.8","color","#333","white-space","pre-wrap"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"section",1)(2,"h1"),d(3,"Noticias de Juan Jos\xE9 R\xEDos"),r(),n(4,"p"),d(5,"Mantente al d\xEDa con las \xFAltimas noticias y acontecimientos de nuestra comunidad."),r()(),n(6,"section",2)(7,"div",3)(8,"span",4),d(9,"\u{1F50D}"),r(),n(10,"input",5),l("input",function(x){return i.buscar(x)}),r()()(),n(11,"section",6),v(12,V,2,3,"button",7,w),r(),n(14,"section",8),v(15,I,9,7,"article",9,H),r(),h(17,B,7,2,"section",10),r(),h(18,q,28,13,"div",11)),t&2&&(c(10),f("value",i.terminoBusqueda()),c(2),E(i.categorias()),c(3),E(i.noticiasPaginadas().items),c(2),b(i.noticiasPaginadas().totalPaginas>1?17:-1),c(),b(i.showModal()&&i.noticiaSeleccionada()?18:-1))},dependencies:[N],styles:[".home-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem 1rem}.hero[_ngcontent-%COMP%]{text-align:center;padding:2rem 0}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a1a1a;margin-bottom:.5rem}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1rem}.search-section[_ngcontent-%COMP%]{margin:2rem 0}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f3f4f6;border-radius:12px;padding:.75rem 1rem;max-width:500px;margin:0 auto}.search-icon[_ngcontent-%COMP%]{margin-right:.75rem;font-size:1.1rem}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;font-size:1rem;outline:none;color:#333}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.categorias[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:2rem;justify-content:center}.categoria-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;border:1px solid #e5e7eb;background:#fff;color:#666;font-size:.875rem;cursor:pointer;transition:all .2s}.categoria-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb}.categoria-btn.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-color:#2563eb}.noticias-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.noticia-card[_ngcontent-%COMP%]{display:flex;gap:1.5rem;background:#fff;border-radius:16px;overflow:hidden;transition:box-shadow .2s}.noticia-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.noticia-imagen[_ngcontent-%COMP%]{width:200px;height:150px;object-fit:cover;flex-shrink:0;border-radius:12px}.noticia-content[_ngcontent-%COMP%]{padding:1rem 1rem 1rem 0;display:flex;flex-direction:column;justify-content:center}.noticia-categoria[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.noticia-titulo[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#1a1a1a;margin-bottom:.5rem;line-height:1.4}.noticia-descripcion[_ngcontent-%COMP%]{font-size:.9rem;color:#666;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.paginacion[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-top:2rem;padding:1rem 0}.pag-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:none;background:#fff;color:#666;font-size:.9rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.pag-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6}.pag-btn.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.pag-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pag-ellipsis[_ngcontent-%COMP%]{color:#666;padding:0 .5rem}@media (max-width: 768px){.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.noticia-card[_ngcontent-%COMP%]{flex-direction:column}.noticia-imagen[_ngcontent-%COMP%]{width:100%;height:200px;border-radius:12px 12px 0 0}.noticia-content[_ngcontent-%COMP%]{padding:1rem}.categorias[_ngcontent-%COMP%]{justify-content:flex-start;overflow-x:auto;flex-wrap:nowrap;padding-bottom:.5rem}.categoria-btn[_ngcontent-%COMP%]{white-space:nowrap}}"]})};export{z as Home};
